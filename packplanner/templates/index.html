<!DOCTYPE html>
 <html>
 	<head>
        <meta charset="utf-8">

        <title>GR4 Contents</title>
     
    	<link href="{{STATIC_URL}}css/bootstrap.css" rel="stylesheet">
    	<link href="{{STATIC_URL}}css/bootstrap-responsive.css" rel="stylesheet">
    	<link href="{{STATIC_URL}}css/bootstrap-datetimepicker.min.css" rel="stylesheet">
	    <link href="{{STATIC_URL}}css/jquery-ui-1.10.2.smoothness.css" rel="stylesheet"/></link>

    	<script src="{{STATIC_URL}}js/jquery-1.8.1.min.js" type="text/javascript"></script>
    	<script src="{{STATIC_URL}}js/jquery-ui.js"></script>
	    <script src="{{STATIC_URL}}js/bootstrap.js" type="text/javascript"></script>
	    <script src="{{STATIC_URL}}js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>

	    {% block extrahead %}
	    {% endblock %}

	    <script type="text/javascript">
	    $(function(){
	    {% block jquery %}
	    {% endblock %}
	    });
	    </script>

     	<!-- CSS code -->
    	<style>
      		.first-day {
      			border-top-left-radius: 5px;
      			border-bottom-left-radius: 5px;
      		}
      		.last-day {
      			border-right: 1px solid;
      			border-top-right-radius: 5px;
      			border-bottom-right-radius: 5px;
      			border-color: #AAAAAA;
      		}
      		.unselected-day.span1 {
      			color: white;
      			border-left: 1px solid;
      			margin-left: 0px;
      			width: 45px;
      			margin-left:2px;
      			margin-right:2px;
      			text-align: center;
      			border-top: 1px solid;
      			border-bottom: 1px solid;
      			height: 550px;
      			border-color: #1ABC9C;
      		}
      		.selected-day.span6 {
      			border-left: 1px solid;
      			margin-left: 0px;
      			width: 894px;
      			margin-left:2px;
      			margin-right:2px;
      			text-align: center;
      			border-top: 1px solid;
      			border-bottom: 1px solid;
      			height: 550px;
      			border-color: #E3E3E3;
      			background-color: #E3E3E3;
      		}
      		.selected-day.h4{
      			background-color: #1ABC9C;
      		}
      		.unselected-day {
      			cursor: pointer;
      		}
      		.selected-day {
      			background-color: #1ABC9C;
      		}
      		.unselected-day {
				/* fallback */
				background-color: #1ABC9C;
				/*background: url(images/linear_bg_2.png);
				background-repeat: repeat-x;

				background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#DDDDDD), to(#EEEEEE));

				background: -webkit-linear-gradient(top, #EEEEEE, #DDDDDD);

				background: -moz-linear-gradient(top, #EEEEEE, #DDDDDD);

				background: -ms-linear-gradient(top, #EEEEEE, #DDDDDD);

				background: -o-linear-gradient(top, #EEEEEE, #DDDDDD);*/
			}
			.unselected-day:hover {
				/* fallback */
				background-color: #16A085;
				border-color: #16A085;
				/*background: url(images/linear_bg_2.png);
				background-repeat: repeat-x;

				background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#BBBBBB), to(#CCCCCC));

				background: -webkit-linear-gradient(top, #CCCCCC, #BBBBBB);

				background: -moz-linear-gradient(top, #CCCCCC, #BBBBBB);

				background: -ms-linear-gradient(top, #CCCCCC, #BBBBBB);

				background: -o-linear-gradient(top, #CCCCCC, #BBBBBB);*/
			}
      		.spacer {
      			margin-top: 40px;
      		}
      		.modal, .modal.fade.in {
      		    top: 10%; /* was 10% */
      		}

      		.navbar-inner {
      		  background-color: #1ABC9C; /* background color will be black for all browsers */
      		  background-image: none;
      		  background-repeat: no-repeat;
      		  filter: none;
      		}

      		.navbar-inner .active {
      		  background-color: #16A085; /* background color will be black for all browsers */
      		  background-image: none;
      		  background-repeat: no-repeat;
      		  filter: none;
      		}
    	</style>


	    <!-- CSS code -->
        <style type="text/css">
        	

	        /*
	        Need default/customization/theme configured

	        Cool Bootstrap Button-customizatons: http://charliepark.org/bootstrap_buttons/;
	        */
			.btn-custom0d { background-color: hsl(60, 65%, 82%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#f6f6d4", endColorstr="#eeeeb3"); background-image: -khtml-gradient(linear, left top, left bottom, from(#f6f6d4), to(#eeeeb3)); background-image: -moz-linear-gradient(top, #f6f6d4, #eeeeb3); background-image: -ms-linear-gradient(top, #f6f6d4, #eeeeb3); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f6f6d4), color-stop(100%, #eeeeb3)); background-image: -webkit-linear-gradient(top, #f6f6d4, #eeeeb3); background-image: -o-linear-gradient(top, #f6f6d4, #eeeeb3); background-image: linear-gradient(#f6f6d4, #eeeeb3); border-color: #eeeeb3 #eeeeb3 hsl(60, 65%, 80%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom1d { background-color: hsl(120, 65%, 82%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#d4f6d4", endColorstr="#b3eeb3"); background-image: -khtml-gradient(linear, left top, left bottom, from(#d4f6d4), to(#b3eeb3)); background-image: -moz-linear-gradient(top, #d4f6d4, #b3eeb3); background-image: -ms-linear-gradient(top, #d4f6d4, #b3eeb3); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #d4f6d4), color-stop(100%, #b3eeb3)); background-image: -webkit-linear-gradient(top, #d4f6d4, #b3eeb3); background-image: -o-linear-gradient(top, #d4f6d4, #b3eeb3); background-image: linear-gradient(#d4f6d4, #b3eeb3); border-color: #b3eeb3 #b3eeb3 hsl(120, 65%, 80%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom2d { background-color: hsl(180, 65%, 82%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#d4f6f6", endColorstr="#b3eeee"); background-image: -khtml-gradient(linear, left top, left bottom, from(#d4f6f6), to(#b3eeee)); background-image: -moz-linear-gradient(top, #d4f6f6, #b3eeee); background-image: -ms-linear-gradient(top, #d4f6f6, #b3eeee); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #d4f6f6), color-stop(100%, #b3eeee)); background-image: -webkit-linear-gradient(top, #d4f6f6, #b3eeee); background-image: -o-linear-gradient(top, #d4f6f6, #b3eeee); background-image: linear-gradient(#d4f6f6, #b3eeee); border-color: #b3eeee #b3eeee hsl(180, 65%, 80%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }


			.btn-custom3d { background-color: hsl(240, 65%, 82%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#d4d4f6", endColorstr="#b3b3ee"); background-image: -khtml-gradient(linear, left top, left bottom, from(#d4d4f6), to(#b3b3ee)); background-image: -moz-linear-gradient(top, #d4d4f6, #b3b3ee); background-image: -ms-linear-gradient(top, #d4d4f6, #b3b3ee); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #d4d4f6), color-stop(100%, #b3b3ee)); background-image: -webkit-linear-gradient(top, #d4d4f6, #b3b3ee); background-image: -o-linear-gradient(top, #d4d4f6, #b3b3ee); background-image: linear-gradient(#d4d4f6, #b3b3ee); border-color: #b3b3ee #b3b3ee hsl(240, 65%, 80%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }


			.btn-custom4d { background-color: hsl(360, 65%, 82%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#f6d4d4", endColorstr="#eeb3b3"); background-image: -khtml-gradient(linear, left top, left bottom, from(#f6d4d4), to(#eeb3b3)); background-image: -moz-linear-gradient(top, #f6d4d4, #eeb3b3); background-image: -ms-linear-gradient(top, #f6d4d4, #eeb3b3); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f6d4d4), color-stop(100%, #eeb3b3)); background-image: -webkit-linear-gradient(top, #f6d4d4, #eeb3b3); background-image: -o-linear-gradient(top, #f6d4d4, #eeb3b3); background-image: linear-gradient(#f6d4d4, #eeb3b3); border-color: #eeb3b3 #eeb3b3 hsl(360, 65%, 80%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom0 { background-color: hsl(60, 100%, 66%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#feff7a", endColorstr="#feff51"); background-image: -khtml-gradient(linear, left top, left bottom, from(#feff7a), to(#feff51)); background-image: -moz-linear-gradient(top, #feff7a, #feff51); background-image: -ms-linear-gradient(top, #feff7a, #feff51); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #feff7a), color-stop(100%, #feff51)); background-image: -webkit-linear-gradient(top, #feff7a, #feff51); background-image: -o-linear-gradient(top, #feff7a, #feff51); background-image: linear-gradient(#feff7a, #feff51); border-color: #feff51 #feff51 hsl(60, 100%, 64%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom1 { background-color: hsl(120, 100%, 66%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#7aff7a", endColorstr="#51ff51"); background-image: -khtml-gradient(linear, left top, left bottom, from(#7aff7a), to(#51ff51)); background-image: -moz-linear-gradient(top, #7aff7a, #51ff51); background-image: -ms-linear-gradient(top, #7aff7a, #51ff51); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #7aff7a), color-stop(100%, #51ff51)); background-image: -webkit-linear-gradient(top, #7aff7a, #51ff51); background-image: -o-linear-gradient(top, #7aff7a, #51ff51); background-image: linear-gradient(#7aff7a, #51ff51); border-color: #51ff51 #51ff51 hsl(120, 100%, 64%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom2 { background-color: hsl(180, 100%, 66%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#7afeff", endColorstr="#51feff"); background-image: -khtml-gradient(linear, left top, left bottom, from(#7afeff), to(#51feff)); background-image: -moz-linear-gradient(top, #7afeff, #51feff); background-image: -ms-linear-gradient(top, #7afeff, #51feff); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #7afeff), color-stop(100%, #51feff)); background-image: -webkit-linear-gradient(top, #7afeff, #51feff); background-image: -o-linear-gradient(top, #7afeff, #51feff); background-image: linear-gradient(#7afeff, #51feff); border-color: #51feff #51feff hsl(180, 100%, 64%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom3 { background-color: hsl(241, 100%, 66%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#7c7aff", endColorstr="#5451ff"); background-image: -khtml-gradient(linear, left top, left bottom, from(#7c7aff), to(#5451ff)); background-image: -moz-linear-gradient(top, #7c7aff, #5451ff); background-image: -ms-linear-gradient(top, #7c7aff, #5451ff); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #7c7aff), color-stop(100%, #5451ff)); background-image: -webkit-linear-gradient(top, #7c7aff, #5451ff); background-image: -o-linear-gradient(top, #7c7aff, #5451ff); background-image: linear-gradient(#7c7aff, #5451ff); border-color: #5451ff #5451ff hsl(241, 100%, 64%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.btn-custom4 { background-color: hsl(0, 100%, 66%) !important; background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff7a7a", endColorstr="#ff5151"); background-image: -khtml-gradient(linear, left top, left bottom, from(#ff7a7a), to(#ff5151)); background-image: -moz-linear-gradient(top, #ff7a7a, #ff5151); background-image: -ms-linear-gradient(top, #ff7a7a, #ff5151); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #ff7a7a), color-stop(100%, #ff5151)); background-image: -webkit-linear-gradient(top, #ff7a7a, #ff5151); background-image: -o-linear-gradient(top, #ff7a7a, #ff5151); background-image: linear-gradient(#ff7a7a, #ff5151); border-color: #ff5151 #ff5151 hsl(0, 100%, 64%); color: #333 !important; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.13); -webkit-font-smoothing: antialiased; }

			.ui-datepicker {
				font-size:10px !important; 
				width: 25em;
				padding: .2em .2em 0;
				display: none;
			}
			.ui-datepicker table {
				width: 100%;
				font-size: .9em;
				border-collapse: collapse;
				margin: 0 0 .4em;
			}

			.tile {
				background-color:#006363;
				padding: 5px;
				margin: 5px;
			}

			.tile .dayEvents {
				text-align: left;
				font-weight: bold;
				margin: 0px;
				color: white;
			}

			.tile .eventTime {
				text-align: left;
				margin: 0px;
				color: white;
			}

        </style>
     	<!-- -->
	
		<!-- Javascript Code -->
		<script type="text/javascript">	

			function Event(id, title, location, startDate, endDate, driverTo, driverFrom, going) {
				this.id = id;
				this.title = title;
				this.location = location;
				this.startDate = startDate;
				this.endDate = endDate;
				this.driverTo = driverTo;
				this.driverFrom = driverFrom;
				this.going = going;
			}

			function compareEvents(event1, event2) {
				return (event1.startDate > event2.startDate) ? 1 : ((event1.startDate > event2.startDate) ? -1 : 0);
			}

			var events = new Array();

			/*
			Filters
			*/
			var booleanFilters = [];
			var childrenFilters = ["Me", "Nick", "Andy", "Barry", "Christine"];
			var helpFilters = ["All"];

			/*
			Constants
			*/
			var DEFAULT_ALL_CLASS = "btn-inverse";
			var DEFAULT_FILTER_CLASS = "btn pull-left btn-custom";
			var CUSTOM_FILTER_PREFIX = "btn-custom";

			$(document).ready(function() {

				var currentDate = new Date();
				dateSelectedFunc(currentDate);

				events = new Array();
				events[0] = new Event(0, "Soccer Game vs Mockingbird", "Oxmoor Fields", new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 14, 0, 0, 0), new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 16, 30, 0, 0), "Me", "Me", "Andy");
				events[1] = new Event(1, "Drama Rehearsal", "Hyde Auditorium", new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 15, 0, 0, 0), new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 18, 0, 0, 0), "Nick", "Nick", "Barry");
				events[2] = new Event(2, "Dinner and Movie", "Springhurst", new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 14, 30, 0, 0), new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 18, 0, 0, 0), "Nick", "Nick", "Nick");
				
				displayEvents();

				for(i=0;i<=helpFilters.length-1;i++){
	 				$('#filterBtnGroup').append('<button id="allChildren" class="btn pull-left" >' + helpFilters[i] + '</button>');
				}

				for(j=0;j<=childrenFilters.length-1;j++){
	 				$('#filterBtnGroup').append('<button id="partialChildren" class=' + '"btn pull-left btn-custom' + j + 'd" >' + childrenFilters[j] + '</button>');
	 				booleanFilters[j] = 0;
				}

				$("#filterBtnGroup #partialChildren").each(function (value) {
	            	$(this).bind( "click", function() {
						$(this).toggleClass( CUSTOM_FILTER_PREFIX + value);
						
						if ($(this).attr('class') == DEFAULT_FILTER_CLASS + value + "d " + CUSTOM_FILTER_PREFIX + value){
							booleanFilters[value] = 1;
						}
						else{
							booleanFilters[value] = 0;
							$("#filterBtnGroup #allChildren").each(function (value) {
							if ($(this).attr('class') != "btn pull-left"){
								$(this).toggleClass( DEFAULT_ALL_CLASS );
							}
							});
						}
					});
				});

				$("#filterBtnGroup #allChildren").each(function () {
	            	$(this).bind( "click", function() {
						$(this).toggleClass( DEFAULT_ALL_CLASS );

						if ($(this).attr('class') == "btn pull-left" + " " + DEFAULT_ALL_CLASS){
							$("#filterBtnGroup #partialChildren").each(function (value) {

								if ($(this).attr('class') != DEFAULT_FILTER_CLASS + value + "d " + CUSTOM_FILTER_PREFIX + value){
									$(this).toggleClass( CUSTOM_FILTER_PREFIX + value);
									booleanFilters[value] = 1;
								}

							});
						}

						else{
							$("#filterBtnGroup #partialChildren").each(function (value) {
							if ($(this).attr('class') == DEFAULT_FILTER_CLASS + value + "d " + CUSTOM_FILTER_PREFIX + value){
								$(this).toggleClass( CUSTOM_FILTER_PREFIX + value);
								booleanFilters[value] = 0;
							}
						});
						}

					});
	            });


				$("#datepicker").datepicker({
				    onSelect: function(dateText, inst) { 
				      var dateAsString = dateText; //the first parameter of this function
				      var dateAsObject = $(this).datepicker( 'getDate' ); //the getDate method
				      dateSelectedFunc(dateAsObject);

				   }
				});

				/*Previous button*/
			    $("#previousDayButton").click(function() {
			    	var date = new Date($("#datepicker").datepicker('getDate'));
			    	date.setDate(date.getDate()-1);
			    	$("#datepicker").datepicker('setDate', date);

			    	prevDayFunc(date);
			    	dateSelectedFunc(date);

			    });

			    /*Next Day button*/
			    $("#nextDayButton").click(function() {
			    	var date = new Date($("#datepicker").datepicker('getDate'));
			    	date.setDate(date.getDate()+1);
			    	$("#datepicker").datepicker('setDate', date);

			    	nextDayFunc(date);
				    dateSelectedFunc(date);

			    });

			    /*Previous Week button*/
			    $("#previousWeekButton").click(function() {
			    	var date = new Date($("#datepicker").datepicker('getDate'));
			    	date.setDate(date.getDate()-7);
			    	$("#datepicker").datepicker('setDate', date);

			    	prevWeekFunc(date);
				    dateSelectedFunc(date);

			    });

			    /*Next Week button*/
			    $("#nextWeekButton").click(function() {
			    	var date = new Date($("#datepicker").datepicker('getDate'));
			    	date.setDate(date.getDate()+7);
			    	$("#datepicker").datepicker('setDate', date);

			    	nextWeekFunc(date);
				    dateSelectedFunc(date);

			    });

			    /*creates the new event*/
			    $("#createEventButton").click(function(){
			    	var id = events.length;
			    	var title = $("#eventName").val();
			    	var startTime = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 16, 30, 0, 0)
			    	var endTime = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), 17, 30, 0, 0)
			    	var eventdate = $("#eventDate").val();
			    	var driverTo = $("#driverTo").val();
			    	var driverFrom = $("#driverFrom").val();
			    	var eventLocation = $("#locationInput").val();
			    	var e = new Event(id,title,eventLocation,startTime,endTime,driverTo,driverFrom,"Andy");
			    	addEvent(e);
			    	$('#newEventModal').modal('hide');
			    	$(':input','#newEventForm')
			    	  .not(':button, :submit, :reset, :hidden')
			    	  .val('')
			    	  .removeAttr('checked')
			    	  .removeAttr('selected');

			     });

			    /*New Event button*/
			    $("#newEventButton").click(function() {
			    	newEventFunc();
			    });

			    $('#startTime').datetimepicker({
					pickDate: false,
					pick12HourFormat: true,
					pickSeconds: false,
					format : "h:mm PP",
				});
				$('#endTime').datetimepicker({
					pickDate: false,
					pick12HourFormat: true,
					pickSeconds: false,
					format : "h:mm PP",
				});
				$('#eventDate').datetimepicker({
					pickTime: false
				});

				$('#editStartTime').datetimepicker({
					pickDate: false,
					pick12HourFormat: true,
					pickSeconds: false,
					format : "h:mm PP",
				});
				$('#editEndTime').datetimepicker({
					pickDate: false,
					pick12HourFormat: true,
					pickSeconds: false,
					format : "h:mm PP",
				});
				$('#editEventDate').datetimepicker({
					pickTime: false
				});

				$("#drivingTo").typeahead({source:availDrivers,items:4});
				$("#drivingFrom").typeahead({source:availDrivers,items:4});
			});

			/*
			Functions for modularity
			*/

			/*
			Returns list of selected names
			*/
			function getSelectedFilters(){
				var selectedFilters = [];
				for( k=0; k<=booleanFilters.length-1; k++){
					if (booleanFilters[k] == true){
						selectedFilters.push(childrenFilters[k]);
					} 
				}
				return selectedFilters;
			}

			function dateSelectedFunc(date){
				currentDate = date;
				focusEventCalendar(currentDate);
				events = getEvents(currentDate);
				displayEvents();
				console.log(currentDate);
			}


		    /*New Event button*/
		    //$("#newEventButton").click(function() {
		    //	$('#newEventModal').modal('');
		    //});
			

			/*
			Functions for modularity
			*/

			/*
			Returns list of selected names
			*/
			function getSelectedFilters(){
				var selectedFilters = [];
				for( k=0; k<=booleanFilters.length-1; k++){
					if (booleanFilters[k] == true){
						selectedFilters.push(childrenFilters[k]);
					}
				}
			} 

			function focusEventCalendar(currentDate) {
				var day = currentDate.getDay();
				var firstDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());
				firstDate.setDate(firstDate.getDate()-day);
				for (i=0; i < 7; i++) {
					if (i==day) {
						$("#header" + i).removeClass("unselected-day span1").addClass("selected-day span6");
						$("#header" + i).html("<h4 style='color:white;background-color: #1ABC9C;margin-top:0px;margin-bottom:10px;padding-top:10px;padding-bottom:10px;'>" + $.datepicker.formatDate('DD, MM d', currentDate) + "</h4>");
					} else {
						$("#header" + i).removeClass("selected-day span6").addClass("unselected-day span1");
						$("#header" + i).html("<p>" + $.datepicker.formatDate('D', firstDate) + "</p><p>" + firstDate.getDate() + "</p>");
					}
					firstDate.setDate(firstDate.getDate()+1);
				}
			}

			function eventDaySelected(day) {
				var currentDay = currentDate.getDay();
				var diff = currentDay - day;
				if (diff != 0) {
					currentDate.setDate(currentDate.getDate() - diff);
					$("#datepicker").datepicker('setDate', currentDate);
					dateSelectedFunc(currentDate);
				}
			}

			function prevDayFunc(date){
				console.log("prevDay pressed");
			}

			function nextDayFunc(date){
				console.log("nextDay pressed");

			}

			function prevWeekFunc(date){
				console.log("prevWeek pressed");

			}

			function nextWeekFunc(date){
				console.log("nextWeek pressed");

			}

			function newEventFunc(){
				console.log("newEvent pressed");
				console.log(booleanFilters);
			}
			
			//javascript code for selecting drivers
			var availDrivers = ["Me","Nick","Bob","Cheryl","Mindy","George","Ari","Alessandro","Alexandra","Alex"];

			function makeList(list){
				var start = "<ul>"
				var body = ""
				var end = "</ul>"
				for(x in list){
					body = body + "<li>"+ list[x] +"</li>"
				}
				return start+body+end;
			}

			function addEvent(event) {
				events[events.length] = event;
				displayEvents();
			}

			function displayEvents() {
				events.sort(compareEvents);
				var content = $(".selected-day");
				$(".tile").detach();
				$(".dayEvents").remove();
				for (i=0; i<events.length; i++) {
					var event = events[i];
					content.append(renderEvent(event));
				}
			}

			function formatMinutes(n){
			    return n > 9 ? "" + n: "0" + n;
			}

			function renderEvent(event) {
				tile = $("<div>", {
					class: "tile row",
				})

				date = $("<span>", {
					class: "eventTime span6",
					text: event.startDate.getHours()+":"+formatMinutes(event.startDate.getMinutes()) + " - " + event.endDate.getHours()+":"+formatMinutes(event.endDate.getMinutes()),
				})

				content = $("<span>", {
					class: "dayEvents span6",
					text: event.title,
				})

				editbtn = $('<a class="btn pull-right flat btn-primary " style="margin-top:6px;margin-right:2px" data-toggle="modal" href="#editEventModal" onClick="editEventOpen(' + event.id + '); return true;"><i class="icon-pencil"></i></a>')
				deletebtn = $('<a class="btn pull-right flat btn-primary " style="margin-top:6px;margin-left:2px" href="#newEventModal" onClick="removeEvent(' + event.id + '); return true;""><i class="icon-remove"></i></a>')
				
				deletebtn.appendTo(tile);
				editbtn.appendTo(tile);
				date.appendTo(tile);
				content.appendTo(tile);
				return tile;
			}

			function getEvents(date) {
				return events;
			}

			function editEventOpen(event_id) {
				$("#editEventName").val(events[event_id].title);
				alert(events[event_id].startDate);
				//$("#editEventDate").setDate(events[event_id].startDate);
				//$("#editStartTime").setDate(events[event_id].startDate);
				//$("#editEndTime").setDate(events[event_id].endDate);
				$("#editLocationInput").val(events[event_id].location);
				$("#editDrivingTo").val(events[event_id].driverTo);
				$("#editDrivingFrom").val(events[event_id].driverFrom);
			}

			function removeEvent(event_id) {
				events.splice(event_id, 1);
				displayEvents();
			}

		</script>
		<!-- -->
 	</head>
 	<body>
 		<div class="container-fluid">
			<div class="navbar">
			 	<div class="navbar-inner">
			    	<a class="brand" href="#">Pack Planner</a>
			    	<ul class="nav">
			      		<li class="active"><a href="#">Calendar</a></li>
					    <li><a href="#">Contacts</a></li>
					    <li><a href="#">Inbox</a></li>
					    <li><a href="#">Schedules</a></li>
			    	</ul>
			   		<ul class="nav pull-right">
			      		<li><a href="#">Settings</a></li>
			      		<li><a href="#">Logout</a></li>
			    	</ul>
			  	</div>
			</div>
		</div>

 
 		<div class="container">
 		<!-- Middle -->
 			<div class="row">
 				<div class="span4">
 					<div id="datepicker"></div>
 				</div>

				<div class="span8">
					<div class="row" style="height:169px">
						<div class="span6 pull-left">
							<div id="filterBtnGroup" class="btn-group row pull-left">
			 					<!-- Fill in children group filter dynamically -->
							</div>
						</div>

						<div class="span2 pull-right">
							<div class="row pull-right">
								<a id="newEventButton" class="btn pull-right flat btn-primary" data-toggle="modal" href="#newEventModal" ><i class="icon-plus"></i> New Event</a>

								<!-- newEventModal -->
								<div id="newEventModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
										<h3 id="myModalLabel">New Event</h3>
									</div>
									<div class="modal-body">
										<form id="newEventForm">
											<div class="row-fluid">
												<div class="span12">    
													<div class="row-fluid">   
														<div class="span5 lightblue">
															<label>Event Name</label>
															<input type="text" id="eventName" class="span12" placeholder="Event Name">
														</div>
														<div id="eventDate" class="span5 offset1 lightblue input-append">
															<label>Event Date</label>
															<input id="eventDateinput" data-format="MM-dd-yyyy" type="text" placeholder="11-28-2013" class="span12"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>
														</div>
													</div>
													
													<div class="row-fluid">
														<div id= "startTime" class="span5 bgcolor input-append">
															<label>Start Time</label>
															<input id="startTimeInput" class="span12" placeholder="3:30 PM" type="text"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>  
														</div>
														<div id= "endTime" class="span5 offset1 bgcolor input-append">
															<label>End Time</label>
															<input id="endTimeInput" class="span12" placeholder="5:30 PM" type="text"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>  
														</div>
													</div>
													<div class="row-fluid">
														<div id="locationDiv" class="span5 bgcolor">
															<label >Location</label>
															<input id="locationInput" class="pull-left span12" placeholder="location" type="text"></input>
														</div>
													</div>
													<div class="row-fluid" style="padding-bottom:100px">
														<div class="span5 bgcolor input-append">
															<label>Driving To (optional):</label>
															<input id= "drivingTo" autocomplete="off" type="text" data-provide="typeahead"></input>
															  
														</div>
														<div class="span5 offset1 bgcolor input-append">
															<label>Driving From (optional):</label>
															<input id= "drivingFrom" autocomplete="off" type="text" data-provide="typeahead"></input>
															
														</div>
													</div>
													<div class="row">
													</div>               
												</div>     
											</div>
										</form>
									</div>
									<div class="modal-footer">
										<button class="flat btn" data-dismiss="modal" aria-hidden="true"style="background-color:#BDC3C7;">Close</button>
										<button class="flat btn btn-primary" id="createEventButton">Save changes</button>
									</div>
								</div><!--end modal -->



								<!-- editEventModal -->
								<div id="editEventModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
										<h3 id="editModalLabel">Edit Event</h3>
									</div>
									<div class="modal-body">
										<form id="newEventForm">
											<div class="row-fluid">
												<div class="span12">    
													<div class="row-fluid">   
														<div class="span5 lightblue">
															<label>Event Name</label>
															<input type="text" id="editEventName" class="span12" placeholder="Sample Event Name"></input>
														</div><!--/span-->
														<div id="editEventDate" class="span5 offset1 lightblue input-append">
															<label>Event Date</label>
															<input id="editEventDateinput" data-format="MM-dd-yyyy" type="text" class="span12" placeholder="11-28-2013"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>
														</div><!--/span-->
													</div><!--/row-->
													
													<div class="row-fluid">
														<div id= "editStartTime" class="span5 bgcolor input-append">
															<label>Start Time</label>
															<input id="editStartTimeInput" class="span12" data-format="h:mm PP" type="text" placeholder="3:30 PM"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>  
														</div><!--/span-->
														<div id= "editEndTime" class="span5 offset1 bgcolor input-append">
															<label>End Time</label>
															<input id="endTimeInput" class="span12" data-format="h:mm PP" type="text" placeholder="5:30 PM"></input>
															<span class="add-on">
																<i data-time-icon="icon-time" data-date-icon="icon-calendar">
																</i>
															</span>  
														</div><!--/span-->
													</div><!--/row-->
													<div class="row-fluid">
														<div id="editLocationDiv" class="span5 bgcolor">
															<label >Location</label>
															<input id="editLocationInput" class="pull-left span12" type="text" placeholder="Sample Location"></input>
														</div>
													</div>
													<div class="row-fluid" style="padding-bottom:100px">
														<div class="span5 bgcolor input-append">
															<label>Driving To (optional):</label>
															<input id= "editDrivingTo" autocomplete="off" type="text" data-provide="typeahead" placeholder="Sample Driver"></input>
															  
														</div><!--/span-->
														<div class="span5 offset1 bgcolor input-append">
															<label>Driving From (optional):</label>
															<input id= "editDrivingFrom" autocomplete="off" type="text" data-provide="typeahead" placeholder="Sample Driver"></input>
														</div><!--/span-->
													</div><!--/row-->
												</div>     
											</div><!--/row-->
										</form>
									</div>
									<div class="modal-footer">
										<button class="flat btn" data-dismiss="modal" aria-hidden="true" style="background-color:#BDC3C7;">Close</button>
										<button class="flat btn btn-primary" data-dismiss="modal"id="editEventButton">Save changes</button>
									</div>
								</div><!--end modal -->
							</div>
						</div>
					</div>
					<div class="row">
					 	<div class ="span2 pull-left">
					 		<div class="btn-group row pull-left">
					 			

							</div>
						</div>

						<div class="span2 pull-right">
					 		<div class="btn-group row pull-right">

					 			<a id="previousWeekButton" class="btn btn-primary flat " href="#"><i class="icon-chevron-left"></i> Prev Week</a>
					 			<a id="previousDayButton" class="btn btn-primary flat" href="#"><i class="icon-chevron-left"></i> Prev Day</a>
					 			<a id="nextDayButton" class="btn btn-primary flat" href="#">Next Day <i class="icon-chevron-right"></i></a>
					 			<a id="nextWeekButton" class="btn btn-primary flat " href="#">Next Week <i class="icon-chevron-right"></i></a>

							</div>
						</div>

					</div>
				</div>
			</div>
			<div class="row spacer">
 				<div id="header0" class="span1 unselected-day first-day" onClick="eventDaySelected(0);">Sunday</div>
				<div id="header1" class="span1 unselected-day" onClick="eventDaySelected(1);">Monday</div>
 				<div id="header2" class="span1 unselected-day" onClick="eventDaySelected(2);">Tuesday</div>
 				<div id="header3" class="span1 unselected-day" onClick="eventDaySelected(3);">Wednesday</div>
 				<div id="header4" class="span1 unselected-day" onClick="eventDaySelected(4);">Thursday</div>
 				<div id="header5" class="span1 unselected-day" onClick="eventDaySelected(5);">Friday</div>
 				<div id="header6" class="span6 selected-day last-day" onClick="eventDaySelected(6);">Saturday</div>
 			</div>
	 	</div>
 	</body>
</html>
